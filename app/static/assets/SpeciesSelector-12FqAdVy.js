import{s as w}from"./species-Hor55KY_.js";import{d as P,r as n,q as k,j as m,w as x,e as r,o as i,c as z,b as B,s as I,F,_ as L}from"./index-CrBMAzv8.js";const $=P({__name:"SpeciesSelector",props:{modelValue:{}},emits:["update:modelValue"],setup(g,{emit:_}){const u=_,v=g,o=n(!1),p=n([]),s=n(""),a=n({currentPage:1,pageSize:10,total:0}),d=k({get:()=>v.modelValue,set:e=>u("update:modelValue",e)}),f=e=>`${e.chinese_name} (${e.scientific_name})`,h=async(e="")=>{s.value=e,await c()},S=e=>{a.value.currentPage=e,c()},V=e=>{u("update:modelValue",e)},c=async()=>{try{o.value=!0;const e={scientific_name:s.value,chinese_name:s.value,page:a.value.currentPage,limit:a.value.pageSize},t=await w.getMultiple(e);p.value=t.data.data,a.value.total=t.data.pagination.total}finally{o.value=!1}};return c(),(e,t)=>{const y=r("el-option"),C=r("el-pagination"),b=r("el-select");return i(),m(b,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=l=>d.value=l),multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"搜索并选择物种","remote-method":h,loading:o.value,onChange:V},{default:x(()=>[(i(!0),z(F,null,I(p.value,l=>(i(),m(y,{key:l.species_id,label:f(l),value:l.species_id},null,8,["label","value"]))),128)),B(C,{small:"",layout:"prev, pager, next",total:a.value.total,"page-size":a.value.pageSize,"current-page":a.value.currentPage,onCurrentChange:S},null,8,["total","page-size","current-page"])]),_:1},8,["modelValue","loading"])}}}),A=L($,[["__scopeId","data-v-b6531b4f"]]);export{A as S};
