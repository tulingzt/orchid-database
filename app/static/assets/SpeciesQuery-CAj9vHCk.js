import{u as _}from"./species-BWpo-cmh.js";import{Q as h}from"./QueryFilter-BGiqPtNf.js";import{D as b}from"./DataTable-4gAKRNCn.js";import{d as g,r as v,n as y,c as S,b as i,j as C,k,m as t,e as z,o as r,_ as D}from"./index-CrBMAzv8.js";import"./species-Hor55KY_.js";const Q={class:"species-query-container"},j=g({__name:"SpeciesQuery",setup(w){const a=_(),n=v({family:"",genus:"",conservation_status:void 0,scientific_name:"",chinese_name:""}),c=[{prop:"species_id",label:"ID",width:80},{prop:"family",label:"科名",sortable:!0},{prop:"genus",label:"属名",sortable:!0},{prop:"scientific_name",label:"学名",sortable:!0},{prop:"chinese_name",label:"中文名",sortable:!0},{prop:"conservation_status",label:"保护级别",formatter:e=>({无危:"无危",易危:"易危",濒危:"濒危"})[e]||"未知"}],p=[{type:"input",field:"family",label:"科名",placeholder:"请输入科名",span:6},{type:"input",field:"genus",label:"属名",placeholder:"请输入属名",span:6},{type:"select",field:"conservation_status",label:"保护级别",placeholder:"请选择保护级别",options:[{label:"无危",value:"无危"},{label:"易危",value:"易危"},{label:"濒危",value:"濒危"}],span:6},{type:"input",field:"scientific_name",label:"学名",placeholder:"请输入学名",span:6},{type:"input",field:"chinese_name",label:"中文名",placeholder:"请输入中文名",span:6}],u=e=>{n.value={...e},s()},m=()=>{n.value={family:"",genus:"",conservation_status:void 0,scientific_name:"",chinese_name:""},s()},d=e=>{a.pagination.page=e,s()},f=e=>{a.pagination.limit=e,s()},s=()=>{const e={...n.value,...Object.fromEntries(Object.entries(n.value).filter(([o,l])=>l!==""))};a.fetchItems(e)};return y(s),(e,o)=>{const l=z("el-alert");return r(),S("div",Q,[i(h,{"filter-config":p,"initial-values":n.value,onSubmit:u,onReset:m},null,8,["initial-values"]),i(b,{columns:c,data:t(a).items,total:t(a).pagination.total,"page-size":t(a).pagination.limit,loading:t(a).loading,showActions:!1,onPageChange:d,onSizeChange:f},null,8,["data","total","page-size","loading"]),t(a).error?(r(),C(l,{key:0,title:t(a).error,type:"error","show-icon":"",class:"mt-4"},null,8,["title"])):k("",!0)])}}}),q=D(j,[["__scopeId","data-v-096edf47"]]);export{q as default};
