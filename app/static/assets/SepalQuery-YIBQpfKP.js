import{u as b}from"./sepal-B7aOC8D_.js";import{S}from"./SpeciesSelector-12FqAdVy.js";import{Q as w}from"./QueryFilter-BGiqPtNf.js";import{D as x}from"./DataTable-4gAKRNCn.js";import{d as y,r,p as P,c as C,g as p,b as s,j as V,k,m as t,e as D,o as m,_ as I}from"./index-CrBMAzv8.js";import"./species-Hor55KY_.js";const z={class:"sepal-query-container"},B={class:"species-selector mb-4"},Q=y({__name:"SepalQuery",setup(N){const e=b(),o=r([]),i=r({min_length:void 0,max_length:void 0,min_width:void 0,max_width:void 0,min_area:void 0,max_area:void 0}),c=[{prop:"sepal_id",label:"ID",width:80},{prop:"flower_id",label:"花朵ID",width:100},{prop:"sepal_length",label:"长度(cm)",sortable:!0},{prop:"sepal_width",label:"宽度(cm)",sortable:!0},{prop:"sepal_ratio",label:"长宽比",sortable:!0},{prop:"sepal_area",label:"面积(cm²)",sortable:!0}],d=[{type:"range",field:"length",label:"萼片长度(cm)",minPlaceholder:"最小长度",maxPlaceholder:"最大长度",precision:2,span:12},{type:"range",field:"width",label:"萼片宽度(cm)",minPlaceholder:"最小宽度",maxPlaceholder:"最大宽度",precision:2,span:12},{type:"range",field:"area",label:"萼片面积(cm²)",minPlaceholder:"最小面积",maxPlaceholder:"最大面积",precision:2,span:12}];P(o,()=>l());const u=a=>{i.value={...a},l()},_=()=>{i.value={min_length:void 0,max_length:void 0,min_width:void 0,max_width:void 0,min_area:void 0,max_area:void 0},l()},h=a=>{e.pagination.page=a,l()},g=a=>{e.pagination.limit=a,l()},l=()=>{const a={...i.value,species_ids:o.value,page:e.pagination.page,limit:e.pagination.limit};e.fetchItems(a)};return l(),(a,n)=>{const v=D("el-alert");return m(),C("div",z,[p("div",B,[n[1]||(n[1]=p("span",{class:"mr-2"},"选择物种：",-1)),s(S,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=f=>o.value=f)},null,8,["modelValue"])]),s(w,{"filter-config":d,"initial-values":i.value,onSubmit:u,onReset:_},null,8,["initial-values"]),s(x,{columns:c,data:t(e).items,total:t(e).pagination.total,"page-size":t(e).pagination.limit,loading:t(e).loading,showActions:!1,onPageChange:h,onSizeChange:g},null,8,["data","total","page-size","loading"]),t(e).error?(m(),V(v,{key:0,title:t(e).error,type:"error","show-icon":"",class:"mt-4"},null,8,["title"])):k("",!0)])}}}),T=I(Q,[["__scopeId","data-v-afaa9a74"]]);export{T as default};
